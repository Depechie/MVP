<?xml version="1.0" encoding="UTF-8"?>
<ResourceDictionary xmlns="http://xamarin.com/schemas/2014/forms"
                    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                    xmlns:models="clr-namespace:MVP.Models"
                    xmlns:custom="clr-namespace:Xamarin.Forms.PancakeView;assembly=Xamarin.Forms.PancakeView"
                    xmlns:ff="clr-namespace:FFImageLoading.Forms;assembly=FFImageLoading.Forms"
                    xmlns:icons="clr-namespace:MVP.Styles"
                    xmlns:xct="clr-namespace:Xamarin.CommunityToolkit.Converters;assembly=Xamarin.CommunityToolkit"
                    xmlns:converters="clr-namespace:MVP.Converters"
					x:Class="MVP.Templates.DataTemplates">

    <xct:MultiConverter x:Key="ContributionTypeConverter">
        <converters:ContributionTypeToTypeColorConverter />
        <converters:StringToColorResourceConverter />
    </xct:MultiConverter>

    <xct:MultiConverter x:Key="ContributionTypeTextConverter">
        <converters:ContributionTypeToTextColorConverter />
        <converters:StringToColorResourceConverter />
    </xct:MultiConverter>

    <DataTemplate x:Key="contribution_item" x:DataType="models:Contribution">
        <Grid Padding="16,0" RowDefinitions="Auto, 1">
            <StackLayout Padding="16" Spacing="8" VerticalOptions="Center">

                <Frame BackgroundColor="{Binding ContributionType.Id, Converter={StaticResource ContributionTypeConverter}}"
                       Style="{StaticResource contribution_item_category}">

                    <Label LineBreakMode="TailTruncation" Text="{Binding ContributionType.EnglishName, Converter={xct:TextCaseConverter Type=Upper}}"
                           HorizontalTextAlignment="End" MaxLines="1" Style="{StaticResource contribution_item_category_label}"
                           TextColor="{Binding ContributionType.Id, Converter={StaticResource ContributionTypeTextConverter}}"/>

                </Frame>

                <Label Text="{Binding Title}" Style="{StaticResource contribution_item_title}" />
                <Label Text="{Binding StartDate, StringFormat='ACTIVITY DATE: {0:d}'}"
                       Style="{StaticResource contribution_item_date}" />
            </StackLayout>

            <BoxView Grid.Row="1" BackgroundColor="{StaticResource light_blue}" />
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="visibility_item" x:DataType="models:Visibility">
        <Grid RowDefinitions="Auto, 1" Padding="16,0">
            <Label Text="{Binding Description}" Style="{StaticResource list_item_title_label}" />
            <BoxView Grid.Row="1" BackgroundColor="{StaticResource light_blue}" />
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="contribution_type_item" x:DataType="models:ContributionType">
        <Grid RowDefinitions="Auto, 1" ColumnDefinitions="*,Auto" Padding="16,0">
            <Label Grid.Column="0" Text="{Binding Name}" Style="{StaticResource list_item_title_label}" />

            <Label Grid.Column="1" VerticalOptions="Center" VerticalTextAlignment="Center"
                   FontFamily="{StaticResource font_icon}" Margin="0,0,16,0" FontSize="20"
                   Text="{x:Static icons:Icons.check}" TextColor="{StaticResource primary}" />

            <BoxView Grid.Row="1" Grid.ColumnSpan="2" BackgroundColor="{StaticResource light_blue}" />
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="contribution_technology_item" x:DataType="models:ContributionTechnology">
        <Grid RowDefinitions="Auto, 1" Padding="16,0">
            <Label Text="{Binding Name}" Style="{StaticResource list_item_title_label}" />

            <BoxView Grid.Row="1" BackgroundColor="{StaticResource light_blue}" />
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="contribution_technology_group">
        <Grid Padding="24,24,24,16">
            <Label Text="{Binding Key}" FontFamily="{StaticResource font_bold}" LineBreakMode="TailTruncation" />
        </Grid>
    </DataTemplate>
</ResourceDictionary>